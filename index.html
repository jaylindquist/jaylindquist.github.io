<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BitwiseOR</title>

<meta name="generator" content="Hugo 0.18.1" />
<meta property="og:title" content="BitwiseOR" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/" />


<meta property="og:updated_time" content="2017-01-06T20:54:58-06:00"/>









<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="alternate" type="application/rss+xml" title="BitwiseOR Feed" href="/index.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,600" type="text/css" media="all" />
<link rel="stylesheet" href="/css/style.css" type="text/css" media="all" />
<script type="text/javascript" src="/js/scripts.js"></script>
<!--[if lt IE 9]>
	<script src="/js/css3-mediaqueries.js"></script>
<![endif]-->
</head>
<body class="home blog mr-left-sb mr-mobile" itemscope="itemscope" itemtype="http://schema.org/WebPage">
	<div class="mr-container mr-container-outer">
		<div class="mr-header-mobile-nav clearfix"></div>
			<header class="mr-header" itemscope="itemscope" itemtype="http://schema.org/WPHeader">
				<div class="mr-container mr-container-inner mr-row clearfix">
					<div class="mr-custom-header clearfix">
						<div class="mr-site-identity">
							<div class="mr-site-logo" role="banner" itemscope="itemscope" itemtype="http://schema.org/Brand">
								<div class="mr-header-text">
									<a class="mr-header-text-link" href="/" title="BitwiseOR" rel="home">
										<h1 class="mr-header-title">BitwiseOR</h1>
										<h2 class="mr-header-tagline">Like || but with bits</h2>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="mr-main-nav-wrap">
					<nav class="menu" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
	<ul class="menu__list">
		
	</ul>
</nav>
				</div>
			</header>
		<div class="mr-wrapper clearfix">


	<div class="main-content mr-loop mr-content" role="main">
		
		
		
		<article class="mr-loop-item post type-post hentry clearfix">
			
			<div class="mr-loop-content clearfix">
				<header class="mr-loop-header">
					<h3 class="entry-title mr-loop-title">
						<a href="/post/2017/01/06/shaving-yaks-for-docker/" rel="bookmark">Shaving Yaks for Docker</a>
					</h3>
					<div class="mr-meta mr-loop-meta">
						<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
						<time class="mr-meta-date updated" datetime="2017-01-06 20:54:58 -0600 CST">January 06, 2017</time>
					</div>
				</header>
				<div class="mr-loop-excerpt">
					<div class="entry-content clearfix">
						<p>So, I want to learn Docker.</p>

<p>Docker has matured enough that it can no longer be ignored. It is only a matter of time before every developer is expected to know and understand it.</p>

<p>So, after a little playing around, I wanted to start documenting it. That is, write about it publically for me to reference in the future.</p>

<p>That means I need a blog, but I&rsquo;m sick of Wordpress &ndash; it is too big and too difficult to manage. Can&rsquo;t I just write text and be done instead of needing to log in and format and so on?</p>

<p>I know! I can use GitHub pages to upload static HTML! So, how do I do that? Well, it looks like Jekyll is the way to go. It compiles markdown and you can use git to upload to GitHub.</p>

<p>But, I&rsquo;m on a new machine &ndash; I have git installed, but I don&rsquo;t have a key for github yet. So, <strong>Step 1</strong>, <a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/">generate an SSH key</a>.</p>

<p><strong>Step 2</strong> &ndash; <a href="https://github.com/dahlbyk/posh-git">install Posh Git</a> to get a nice command prompt and SSH agent for powershell.</p>

<p>OK, I&rsquo;m all set up to work with GitHub. Now, how do I install Jekyll? <a href="https://gohugo.io/">Hugo</a> seems like a nice way to get started. I&rsquo;ve never heard of it before, how do I install it?</p>

<blockquote>
<p>Using Homebrew?</p>

<p><code>brew update &amp;&amp; brew install hugo</code></p>
</blockquote>

<p>Um, no, I&rsquo;m on Windows. Seems like the modern development landscape is very Windows-hostile (not an official chocolatey package in sight). But that&rsquo;s a rant for another time. To the <a href="https://gohugo.io/overview/quickstart/">quickstart guide</a> I go.</p>

<p>Actually, you know what? I&rsquo;m going to be jumping around a lot of directories to get this working, <strong>Step 3</strong> I should install the <a href="https://github.com/tkellogg/Jump-Location">Jump-Location</a> module as well.</p>

<p>All right, back to Hugo. Where was I? Right, <strong>Step 4</strong> installed it (it&rsquo;s a binary, so I needed to <strong>Step 5</strong> create my goto <code>c:\bin</code> and add it to my path &ndash; and thank god, I figured this was going to be an npm module).</p>

<p>So, <strong>Step 6</strong> I create a post in markdown easily enough (this post in fact), but you can&rsquo;t see it until you pick a theme? OK, <strong>Step 7</strong> pick a theme and see how long that takes&hellip;</p>

<p>&hellip;</p>

<p>It took about 25 minutes. That includes <strong>Step 8</strong>, configuring the theme. Wait a minute. <a href="https://www.reddit.com/r/learnprogramming/comments/3dy5w1/jekyll_vs_hugo_best_static_site_generator_out_of/">Hugo isn&rsquo;t the same as Jekyll</a>? All I need is the binary? Yay! I hate installing Ruby crap on Windows (again, another Windows-hostile language / framework / clusterf***, and another rant for another time).</p>

<p>So, now that I have an awesome site, how do I get it onto GitHub? Back to the quickstart guide. I just need to <strong>Step 9</strong> build it with <code>hugo --theme=...</code> and <strong>Step 10</strong> push it to Github.</p>

<p>OK it&rsquo;s on GitHub, but I just got an email that my submodules aren&rsquo;t configured correctly. Submodules? I didn&rsquo;t create a submodule. Oh, crap, I cloned the theme into the <code>themes</code> folder. I hate submodules, how do I make this just files now?</p>

<p>OK, <strong>Step 11</strong> how do you <a href="https://stackoverflow.com/questions/1260748/how-do-i-remove-a-submodule#1260982">remove all traces of a submodule</a> again?</p>

<blockquote>
<p><strong>To remove a submodule you need to:</strong></p>

<ol>
<li>Delete the relevant section from the <code>.gitmodules</code> file.</li>
<li>Stage the <code>.gitmodules</code> changes <code>git add .gitmodules</code></li>
<li>Delete the relevant section from <code>.git/config</code>.</li>
<li>Run <code>git rm --cached path_to_submodule</code> (no trailing slash).</li>
<li>Run <code>rm -rf .git/modules/path_to_submodule</code></li>
<li>Commit <code>git commit -m &quot;Removed submodule &lt;name&gt;&quot;</code></li>
<li>Delete the now untracked submodule files <code>rm -rf path_to_submodule</code></li>
</ol>
</blockquote>

<p>Oh right, I forgot, git is horrible. <strong>Step 12</strong> do all that. But none of that exists. This isn&rsquo;t a submodule, it&rsquo;s just a directory with a <code>.git</code> folder in it. And git can&rsquo;t seem to figure out what&rsquo;s going on.</p>

<p>OK, <strong>Step 13</strong> when git gets confusing, nuke it and start over. Delete all <code>.git</code> folders, remove the repo in GitHub and try again.</p>

<p>Great, everything is published and pushed. Going to <code>https://jaylindquist.github.io/</code> I see my site, right? No, &ldquo;Page not found&rdquo;. GitHub pages expects the content to be at the root of the repo, not in a subfolder. I want to version the markdown as well as the build site.</p>

<p>Hmm, how can I do that? Oh, it&rsquo;s in the Quickstart guide. Create a submodule &ndash; dangit. <strong>Step 14</strong> time to nuke and start over again.</p>

<p><strong>Step 15</strong> time to start tweaking to get all the paths correct. And once that is done, <strong>Step 16</strong> tweaking the CSS &ndash; because I just can&rsquo;t help myself.</p>

<p>And &ndash; yay &ndash; <a href="https://jaylindquist.github.io/">everything is working</a> as expected!</p>

<p>So, that&rsquo;s enough for tonight.</p>

<p>Wait.</p>

<p>Wasn&rsquo;t I going to do something with Docker?</p>

					</div>
				</div>
			</div>
		</article>
		
		<article class="mr-loop-item post type-post hentry clearfix">
			
			<div class="mr-loop-content clearfix">
				<header class="mr-loop-header">
					<h3 class="entry-title mr-loop-title">
						<a href="/post/2013/09/25/adding-static-content-to-spring-boot-mvc/" rel="bookmark">Adding Static Content To Spring Boot MVC</a>
					</h3>
					<div class="mr-meta mr-loop-meta">
						<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
						<time class="mr-meta-date updated" datetime="2013-09-25 21:46:54 &#43;0000 &#43;0000">September 25, 2013</time>
					</div>
				</header>
				<div class="mr-loop-excerpt">
					<div class="entry-content clearfix">
						<p>As I learn new frameworks, I often get a good idea stuck in my head that I really want to implement. Often, the idea is overly ambitious for my knowledge of the tool, but sometimes it hits the sweet spot between &ldquo;That should be pretty easy to implement&rdquo; and &ldquo;I really don&rsquo;t want to dig into the documentation to figure this out&rdquo;.</p>

<p>Using a tool that is rather young, like Spring Boot, makes me dread the learning process even more as they often don&rsquo;t have the documentation I need in place, so instead I need to dig through source code and examples that look related.</p>

<p>My plan was to add static content to a Spring Boot web site. I&rsquo;ve seen the dynamic content via Spring <code>@Controllers</code>, but I still need to add images and CSS if I want a decent site.</p>

<p>So, my journey began at Spring Boot&rsquo;s GitHub repo, which has a large number of undocumented <a href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples" title="Spring Boot Samples">examples</a>. My answer, of course, lay beneath the folders of the well named <a href="https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples/spring-boot-sample-web-static">spring-boot-sample-web-static</a> example, and like all other Spring Boot defaults, it was an obvious solution.</p>

<p>Add the static files to <code>src/main/webapp</code>. Where else would you put it?</p>

<p>My own example is now on <a href="https://github.com/jaylindquist/spring-boot-service-and-static" title="Spring Boot Service with Static Content">GitHub</a> which combines the Ember.js template project to the Spring Boot REST Template project.</p>

<p>The last step we need to create a fully functional application is to modify the Ember.js template to pull data from the REST services.</p>

					</div>
				</div>
			</div>
		</article>
		
		<article class="mr-loop-item post type-post hentry clearfix">
			
			<div class="mr-loop-content clearfix">
				<header class="mr-loop-header">
					<h3 class="entry-title mr-loop-title">
						<a href="/post/2013/09/20/creating-test-services-with-spring-boot/" rel="bookmark">Creating Test Services with Spring Boot</a>
					</h3>
					<div class="mr-meta mr-loop-meta">
						<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
						<time class="mr-meta-date updated" datetime="2013-09-21 03:39:35 &#43;0000 &#43;0000">September 21, 2013</time>
					</div>
				</header>
				<div class="mr-loop-excerpt">
					<div class="entry-content clearfix">
						

<p>One of the coolest new technologies from the Spring Foundation has to be the new <a href="http://spring.io/blog/2013/08/06/spring-boot-simplifying-spring-for-everyone" title="Spring Boot   Simplifying Spring for Everyone">Spring Boot</a> project. Spring Boot takes all the common template / bootstrap / setup code that everyone is doing already and just does it for you.</p>

<p>It also covers all the main Spring technologies: Spring MVC, Spring Batch, Spring Security, etc. Need a database? Just add the schema. Need a service? Just add a request mapping. Spring Boot will interpret your setup and start a server if needed.</p>

<p><a href="https://github.com/spring-projects/spring-boot" title="Spring Boot on Github">GitHub</a> already has the basics for creating simple examples. For example, from the Spring Blog (once you have the Spring Boot command line installed) the following groovy code will run a web site:</p>

<pre><code class="language-java">@Controller
class ThisWillActuallyRun {
    @RequestMapping(&quot;/&quot;)
    @ResponseBody
    String home() {
        return &quot;Hello World!&quot;
    }
}
</code></pre>

<p>Amazingly simple to use.</p>

<p>It gets a little more complicated when you need an advanced site. Specifically, what do we need in order to create a database driven REST data service? All of the code for this example is in <a href="https://github.com/jaylindquist/spring-boot-service-template" title="Spring Boot Service Template" target="_blank">my GitHhub repo</a>.</p>

<h2 id="build-file">Build file</h2>

<p>Something that I always appreciate, is a gradle plugin, and Spring Boot comes through. The following build.gradle loads in Spring Boot, a few more dependencies to support Groovy, an in memory database and JSON parsing for the service, then adds a <code>run</code> command to make life easier.</p>

<pre><code>buildscript {
    repositories {
        mavenCentral()
        maven {
            url &quot;http://repo.springsource.org/milestone&quot;
        }
    }
    dependencies {
        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:0.5.0.M3&quot;)
    }
}

repositories {
    mavenCentral()
    maven {
        url &quot;http://repo.springsource.org/milestone&quot;
    }
}

apply plugin: 'groovy'
apply plugin: 'eclipse'
apply plugin: 'spring-boot'

sourceCompatibility = 1.6
version = '1.0'

dependencies {
    compile 'org.codehaus.groovy:groovy-all:2.1.7'
    compile 'org.springframework.boot:spring-boot-starter-web:0.5.0.M3'
    compile 'org.springframework:spring-jdbc:4.0.0.M3'
    runtime 'org.codehaus.jackson:jackson-mapper-asl:1.9.12'
    runtime 'org.hsqldb:hsqldb:latest.release'
}

task run(type: JavaExec) {
    classpath configurations.runtime, sourceSets.main.output
    main = 'com.mycom.App'
}

task wrapper(type: Wrapper) {
    gradleVersion = '1.7'
}
</code></pre>

<h2 id="project-structure">Project Structure</h2>

<p>You have two options to run Spring Boot projects. The first is simply use the Spring Boot command line against a class you want to execute, as with the example from the Spring blog. The second options is for more complex projects that are set up to use an IDE and custom project structure. We&rsquo;ll use the latter for this example.</p>

<p>I&rsquo;ve used the standard Groovy Jar project structure for Gradle, but any structure will do. Note that, even though we are building a web app, the project structure is for a Jar. We have no need to create the web.xml.</p>

<h2 id="main">Main</h2>

<p>From the build file above, the run task simply executes the main class <code>com.mycom.App</code>. This class will tell Spring Boot how to run our app and set up all our autowiring needs.</p>

<pre><code>package com.mycom 

import org.springframework.boot.*
import org.springframework.boot.autoconfigure.*
import org.springframework.context.annotation.ComponentScan
import org.springframework.context.annotation.Configuration
import org.springframework.stereotype.*
import org.springframework.web.bind.annotation.*

@Configuration
@ComponentScan(basePackages = &quot;com.mycom&quot; )
@EnableAutoConfiguration
class App {
    public static void main(String[] args) throws Exception {
        def app = new SpringApplication(App.class)
        app.showBanner = false
        app.run(args)
    }
}
</code></pre>

<p>I&rsquo;ve shown that <a href="https://github.com/spring-projects/spring-boot/blob/master/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java" title="Spring Application Source" target="_blank"><code>SpringApplication</code></a> actually includes a few custom properties you may be interested in. However, in most cases, the static <code>run(Object, args)</code> should be enough. Otherwise, note that this class configures the rest of the classes in <code>com.mycom</code> for Spring wiring.</p>

<h2 id="app-settings">App Settings</h2>

<p>Let&rsquo;s take a detour into the resources directory. Spring Boot has additional configuration steps in the <code>application.properties</code> file. Simply create this file, put it on your classpath, and fill in what is needed.</p>

<pre><code>spring.application.name=spring-boot-service-template
server.port:9080
logging.file:logs/system.log

spring.database.schema=classpath*:schema-hsqldb.sql
</code></pre>

<p>Application name, server port and logging file are all completely optional and only serve as examples. The only important information in this file is the database schema. which is also in the resources directory. Spring Boot will load the database file and create the <code>DataSource</code> for us.</p>

<h2 id="schema">Schema</h2>

<p>Here&rsquo;s our actual data. We&rsquo;ll follow the model from the <a href="http://bitwiseor.com/2013/08/03/lets-set-up-ember-js/" title="Lets set up Ember.js" target="_blank">Ember example</a>:</p>

<ul>
<li>We have Franchises which represent a game franchise, like Legend of Zelda</li>
<li>Within each franchise, we have a Game</li>
<li>Each game has a release date</li>
</ul>

<p>Our schema creates the tables and sample data in one file:</p>

<pre><code>CREATE TABLE franchises (
    id BIGINT NOT NULL PRIMARY KEY,
    title VARCHAR(255)
);

CREATE TABLE games (
    id BIGINT NOT NULL,
    franchise_id BIGINT NOT NULL, 
    name VARCHAR(255),
    release DATE,
    FOREIGN KEY (franchise_id) REFERENCES franchises(id)
);

INSERT INTO franchises 
    (id, title) VALUES
    (0, 'Final Fantasy'),
    (1, 'Fire Emblem'),
    (2, 'The Legend of Zelda');

INSERT INTO games
    (franchise_id, id, name, release) VALUES
    (0, 0, 'Final Fantasy Type 0', '2011-10-27'),
    (0, 1, 'Final Fantasy IV: The After Years', '2008-02-18'),
    (0, 2, 'Final Fantasy VII', '1997-09-07'),
    (1, 0, 'Fire Emblem Awakening', '2013-02-04'),
    (1, 1, 'Fire Emblem Shadow Dragon', '2009-02-16'),
    (2, 0, 'The Legend of Zelda: Skyward Sword', '2011-11-20'),
    (2, 1, 'The Legend of Zelda: Ocarina of Time', '2007-02-26'),
    (2, 2, 'The Legend of Zelda: A Link to the Past', '1991-11-21');
</code></pre>

<h2 id="logging">Logging</h2>

<p>Just to note that logging is already configured for Logback and SLF4J. A logback.xml on the classpath will configure logging as you would expect.</p>

<h2 id="service-code">Service Code</h2>

<p>Now to the actual service code that all the above supports. Spring Boot does all the work on configuring Spring MVC for us, so all that is left for us to do is the actual business logic for the REST services.</p>

<p>The services themselves will simply return the data from the database based on the resource requested. So, <code>/franchise/1</code> will return Fire Emblem franchise while <code>/franchise/1/game/0</code> will return Fire Emblem Awakening with its release date.</p>

<p>For Frachises:</p>

<pre><code>package com.mycom

import javax.sql.DataSource

import org.springframework.beans.factory.annotation.Autowired
import org.springframework.dao.EmptyResultDataAccessException
import org.springframework.jdbc.core.JdbcTemplate
import org.springframework.stereotype.Controller
import org.springframework.web.bind.annotation.PathVariable
import org.springframework.web.bind.annotation.RequestMapping
import org.springframework.web.bind.annotation.ResponseBody

@Controller
class Franchise {
    private JdbcTemplate jdbcTemplate

    @Autowired
    public Franchise(DataSource dataSource) {
        this.jdbcTemplate = new JdbcTemplate(dataSource)
    }
    
    @ResponseBody
    @RequestMapping('/franchise/{id}')
    String franchiseId(@PathVariable Long id) {
        try {
            return jdbcTemplate.queryForMap('SELECT id, title FROM franchises WHERE id=?', id)
        } catch(EmptyResultDataAccessException ex) {
            return Collections.EMPTY_MAP
        }
    }
    
    @ResponseBody
    @RequestMapping('/franchise/')
    String franchises() {
        try {
            return jdbcTemplate.queryForList('SELECT id, title FROM franchises')
        } catch(EmptyResultDataAccessException ex) {
            return Collections.EMPTY_MAP
        }
    }
}
</code></pre>

<p>And similarly for Games:</p>

<pre><code>package com.mycom

import javax.sql.DataSource

import org.springframework.beans.factory.annotation.Autowired
import org.springframework.dao.EmptyResultDataAccessException
import org.springframework.jdbc.core.JdbcTemplate
import org.springframework.stereotype.Controller
import org.springframework.web.bind.annotation.PathVariable
import org.springframework.web.bind.annotation.RequestMapping
import org.springframework.web.bind.annotation.ResponseBody

import com.fasterxml.jackson.databind.node.NodeCursor.Object;

@Controller
class Game {
    private JdbcTemplate jdbcTemplate

    @Autowired
    public Game(DataSource dataSource) {
        this.jdbcTemplate = new JdbcTemplate(dataSource)
    }
    
    @ResponseBody
    @RequestMapping('/franchise/{franchiseId}/game/{id}')
    String gameId(@PathVariable Long franchiseId, @PathVariable Long id) {
        try {
            return jdbcTemplate.queryForMap('SELECT id, name, release FROM games WHERE franchise_id=? AND id=?', franchiseId, id)
        } catch(EmptyResultDataAccessException ex) {
            return Collections.EMPTY_MAP
        }
    }
    
    @ResponseBody
    @RequestMapping('/franchise/{franchiseId}/game')
    String games(@PathVariable Long franchiseId) {
        try {
            return jdbcTemplate.queryForList('SELECT id, name, release FROM games WHERE franchise_id=?', franchiseId)
        } catch(EmptyResultDataAccessException ex) {
            return Collections.EMPTY_MAP
        }
    }
}
</code></pre>

<h2 id="running">Running</h2>

<p>And that&rsquo;s it. Six code files and a build file gives us a full fledged REST service running locally, ready for an app to start consuming it.</p>

<p>To run the sample, open a command prompt and execute <code>gradlew run</code>. This will download dependencies, compile the code, package it into a jar and execute the main class.</p>

<p>Visit <code>http://localhost:9080/franchise/1</code> and other variants to see the JSON responses.</p>

<h2 id="wrap-up">Wrap up</h2>

<p>Not only was the above easy to learn, but it opens up a lot of possibilities for local test services. Spring Boot can also easily be deployed to <a href="http://www.cloudfoundry.com/" target="_blank">Cloud Foundry</a>, Spring&rsquo;s favored cloud provider.</p>

<p>In the end, how is Spring Boot anything other than magic? We currently have enough trouble accepting Groovy in an enterprise environment, and Groovy is just making Java easier to work with. Spring Boot makes Spring apps easier, so it will face the same hurdles in large organizations that Groovy faces. And, just like Groovy, the best way to introduce Spring Boot may be through testing. Because, &ldquo;Who cares if it&rsquo;s only used for tests&rdquo;. Then, once we have it in all our tests, it will naturally begin to grow until we have production Spring Boot apps.</p>

<p>Hopefully, by the time this project reaches 1.0, we&rsquo;ll see a lot of clever new features to make our Spring developer&rsquo;s lives easier.</p>

					</div>
				</div>
			</div>
		</article>
		
		<article class="mr-loop-item post type-post hentry clearfix">
			
			<div class="mr-loop-content clearfix">
				<header class="mr-loop-header">
					<h3 class="entry-title mr-loop-title">
						<a href="/post/2013/08/24/do-not-fear-the-computer/" rel="bookmark">Do Not Fear the Computer</a>
					</h3>
					<div class="mr-meta mr-loop-meta">
						<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
						<time class="mr-meta-date updated" datetime="2013-08-25 03:40:36 &#43;0000 &#43;0000">August 25, 2013</time>
					</div>
				</header>
				<div class="mr-loop-excerpt">
					<div class="entry-content clearfix">
						<p>When starting anything new, most people have a fear of doing something, anything, wrong. For me, it is one of the most difficult reactions that I need to overcome before truly understanding a technology.</p>

<p>My own, personal, fear manifests as getting the implementation wrong. When I start learning a new tool or language, I become obsessed over &ldquo;doing it right&rdquo;. With a simple implementation in hand, I&rsquo;ll start searching forums or digging into the source to try and uncover the best way to accomplish my goal. This usually wastes hours of my time when the &ldquo;wrong way&rdquo; works just fine. In the end, I&rsquo;ll still use my simple implementation as the want for breadth of knowledge starts to overcome the want for depth of knowledge.</p>

<p>If I continue learning the tool, I&rsquo;ll look back in a month&rsquo;s or year&rsquo;s time and be <a href="http://bitwiseor.com/2013/05/20/you-should-be-ashamed-of-yourself/" title="You Should Be Ashamed of Yourself">ashamed</a> of my foolish, ignorant, younger self. So, really, there&rsquo;s no need for the wasted time.</p>

<p>I&rsquo;ve also seen a similar issue with some non-technical folks when it comes to computers and software in general. There is an overwhelming sense that their computer is a ticking time bomb and the wrong button or click will blow the computer to pieces or crash the OS. My wife had this fear in abundance. Over time, with a bit of hand holding, she worked through this fear, and I&rsquo;m glad to say she now knows that good software understands that the user makes mistakes. That&rsquo;s why <a href="http://en.wikipedia.org/wiki/Undo" title="Undo">PARC invented the undo command</a>.</p>

<p>Fear of the computer interrupts the idea-to-execution process. Alice has an idea and wants to use her software to make it manifest. If the software is so complex that she can&rsquo;t find command needed to complete the task at hand, then she may give up. Fear of the computer prevents experimentation.</p>

<p>Proper software needs to encourage experimentation. Any action must be reversible; any command must make its effects clear; any permanent change must be preventable. Naming of actions must take priority over all other UI features. Should posts be &ldquo;Submitted&rdquo; or &ldquo;Published&rdquo;. Depending on the context, both words may be synonyms, or they could imply non-permanent or permanent actions.</p>

<p>Proper software needs to understand that user&rsquo;s fear that they may be &ldquo;doing it wrong&rdquo;. Either the software needs to make it clear that the user is indeed &ldquo;doing it right&rdquo; or at least let the user know they may be doing it wrong.</p>

<p>In the end, however it is accomplished, the software must take away the user&rsquo;s fear if the creators want their work to be used.</p>

					</div>
				</div>
			</div>
		</article>
		
		<article class="mr-loop-item post type-post hentry clearfix">
			
			<div class="mr-loop-content clearfix">
				<header class="mr-loop-header">
					<h3 class="entry-title mr-loop-title">
						<a href="/post/2013/08/21/vulnerabilies-of-good-intentions/" rel="bookmark">Vulnerabilies of Good Intentions</a>
					</h3>
					<div class="mr-meta mr-loop-meta">
						<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
						<time class="mr-meta-date updated" datetime="2013-08-22 04:25:28 &#43;0000 &#43;0000">August 22, 2013</time>
					</div>
				</header>
				<div class="mr-loop-excerpt">
					<div class="entry-content clearfix">
						<p>One of the saddest vulnerabilities introduced into applications are those that are created by design. These vulnerabilities are explicitly written into application requirements or have specific user stories. Often, the vulnerability takes on the form of functionality requested by one or more stakeholders.</p>

<p>Consider the following: <a href="http://www.telegraph.co.uk/technology/facebook/8938725/Facebook-privacy-flaw-exposes-Mark-Zuckerberg-photos.html">Facebook privacy flaw exposes Mark Zuckerberg photos</a>. This flaw was created with only good intentions in mind. Facebook prides itself on keeping the site clean and inoffensive. Owners of the site look for any tool that can help weed out the bad photos from the good. Considering the <a href="http://blog.1000memories.com/94-number-of-photos-ever-taken-digital-and-analog-in-shoebox">size of Facebook&rsquo;s image library</a>, I would want help as well.</p>

<p>So, someone had a great idea: we should crowdsource the effort. Some of us can manually look through photos; maybe we can create an automated scanner to tag possibly offensive pictures; but our best bet is our user base. Those who are actually offended will be empowered to report offending pics.</p>

<p>Enter the Reporting feature:</p>

<ul>
<li>Alice sees Eve&rsquo;s photo on Facebook. The photo itself may or may not follow Facebook&rsquo;s guidelines, but all that really matters here is that Alice is taken aback.</li>
<li>Alice clicks the &ldquo;Report&rdquo; link to alert Facebook of this deeply offensive image. She&rsquo;ll need to fill out some information about why it is offensive, but it&rsquo;s straight forward and she submits the form.
<br /></li>
</ul>

<p>This feature has a few benefits: Facebook staff can be put to better use reviewing possibly offensive images instead of random images; Users get to feel good about themselves that they helped clean up a site they love; repeat offenders can be duly punished to the limits of  Facebook&rsquo;s Terms and Conditions.</p>

<p>However, where there is one offensive picture, there could be many more. An empowered user who has already reported an image has it set in her mind that image reporting is her duty. If Alice saw the rest of Eve&rsquo;s photos, she could review those as well. So, we tweak the code and a new feature is born:Alice sees Eve&rsquo;s photo on Facebook. The photo itself may or may not follow Facebook&rsquo;s guidelines, but all that really matters here is that Alice is taken aback.</p>

<ul>
<li>Alice sees Eve&rsquo;s photo on Facebook. The photo itself may or may not follow Facebook&rsquo;s guidelines, but all that really matters here is that Alice is taken aback.</li>
<li>Alice clicks the &ldquo;Report&rdquo; link to alert Facebook of this deeply offensive image. She&rsquo;ll need to fill out some information about why it is offensive, but it&rsquo;s straight forward and she submits the form.</li>
<li>Facebook show&rsquo;s Alice the rest of Eve&rsquo;s pictures in the hope that other offensive images will be reported.</li>
<li>Alice selects more offensive images and her duty is done.</li>
</ul>

<p>This is great functionality: User feel more empowered, as though they are helping the community as partial owners of the site; Facebook staff has even less work to do; repeat offenders are identified quicker than ever before.</p>

<p>However, there is one flaw in the plan that was overlooked. Because any image can be flagged as inappropriate, user avatars can be flagged as well. Avatars are public as they help with identification when searching for friends. So now, we have a way to report anyone&rsquo;s avatar - which is good - but the new feature will then show us the rest of the user&rsquo;s library - which is bad. It is bad because we now have access to anyone&rsquo;s image library, no matter what privacy setting they used, and all we need to do is report the user&rsquo;s avatar.</p>

<p>Finally, this takes us down to the end game: Mark Zuckerberg, CEO and founder of Facebook, holding a dead chicken by the legs. Private photos posted on the internet for all to see. All from functionality and requirements requested by the business. Functionality with only good intentions, but with a security hole one can drive a truck through.</p>

<p>How do we stop this? Requirements and use cases need to include<a href="https://www.owasp.org/index.php/Application_Threat_Modeling"> abuse cases</a> as well. That is, when listing out features and how they will be used, take a moment to think of how the features can be misused as well.</p>

<p>As a malicious user, I want to access private user photos in order to cause harm and mischief. How can I accomplish this?</p>

					</div>
				</div>
			</div>
		</article>
		
		<article class="mr-loop-item post type-post hentry clearfix">
			
			<div class="mr-loop-content clearfix">
				<header class="mr-loop-header">
					<h3 class="entry-title mr-loop-title">
						<a href="/post/2013/08/03/lets-set-up-ember-js/" rel="bookmark">Lets set up Ember.js</a>
					</h3>
					<div class="mr-meta mr-loop-meta">
						<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
						<time class="mr-meta-date updated" datetime="2013-08-04 04:12:36 &#43;0000 &#43;0000">August 04, 2013</time>
					</div>
				</header>
				<div class="mr-loop-excerpt">
					<div class="entry-content clearfix">
						

<p><a title="Ember.js home page" href="http://emberjs.com/">Ember.js</a> is an interesting creature. This is the first client-side MVC I&rsquo;ve looked into. Apparently calling these applications &ldquo;single page apps&rdquo; are looked down upon, even though they are driven from a single HTML page. Single DOM applications seems more appropriate.</p>

<p>Based on previous experience learning new technologies, I&rsquo;ve found that I am only able to understand the technology once I have a model of what&rsquo;s going on behind the scenes. It was only when I realized how reflection and Java Beans could be used to implement Spring&rsquo;s inversion of control that I could really start working with it.</p>

<p>Before this understanding occurs, everything is magic. I don&rsquo;t like programming that runs on magic as magic is rather unpredictable.</p>

<p>With Ember.js, I struggled to follow how the examples and samples pulled everything together, but then I read the <a title="Ember.js Naming Conventions" href="http://emberjs.com/guides/concepts/naming-conventions/">Naming Conventions</a> document, and everything became clear.</p>

<p>To be honest, the Ember guides are quite good. They take a conversational approach to documentation instead of a fact based approach.</p>

<p>However, all the examples available so far have tried too hard to make the example &ldquo;pretty&rdquo; or &ldquo;realistic&rdquo;. That is, the examples have plenty of HTML structure to support CSS styles and the data model pulls from a related REST service with Ember Data. This detracts from the learning process. Yes, the result looks pretty, and the data is dynamic, but the example code is cluttered and involves concepts outside of Ember.js itself.</p>

<h2 id="the-ugly-app">The Ugly App</h2>

<p>So, here&rsquo;s my example, an ugly Ember.js app. It does very little: When we visit the app, a list of game franchises are listed; clicking on a franchise will list games in the franchise; and clicking on a game will show us the original release date.</p>

<p>This is supposed to be simple and will help show off different parts of Ember such as routes and how they connect the model to the template.</p>

<p>Lets get the annoying stuff out the way: This example uses Ember.js 1.0 RC6. It consists of an HTML page, a javascript file representing the application, and all dependencies. You can find the code on GitHub here: <a href="https://github.com/jaylindquist/ember-template">https://github.com/jaylindquist/ember-template</a></p>

<p>Since we aren&rsquo;t using any styles, out base HTML page is a bit bare, but we still need it:</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot; /&gt;
&lt;title&gt;Ember Template&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;!-- ember templates go here --&gt;

&lt;script src=&quot;js/libs/jquery-1.9.1.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;js/libs/handlebars-1.0.0-rc.4.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;js/libs/ember-1.0.0-rc.6.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;js/libs/bootstrap.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;js/games.js&quot;&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>All the Ember heavy lifting takes place in <code>js/games.js</code>.</p>

<h2 id="ember-parts">Ember Parts</h2>

<p>In order to get Ember up and running, we need some common components:</p>

<ul>
<li>Application - the main Ember application</li>
<li>Model - our actual data with methods to get at the information</li>
<li>Router - a description of the paths supported by the application and how the app will determine which models to load</li>
<li>Routes - how to tell ember which models to load based on the current URL / route</li>
<li>Templates - how to actually display the information to the user</li>
</ul>

<h3 id="application">Application</h3>

<p>We start with the Application. This is easy enough:</p>

<pre><code>App = Ember.Application.create({});
</code></pre>

<h3 id="model">Model</h3>

<p>I&rsquo;ll say little about the model for now. In this case, I am not using Ember Data. Instead, I am using a plain old JavaScript object. I then store the object in the application for easy reference.</p>

<p>All you really need to know is that the methods on the model exist and do what they say:</p>

<pre><code>Store = {
    franchises: Ember.A(),
    defaultFranchise: function() {...},
    get: function(id) {...},
    init: function() {
        if(this.franchises.length == 0) {
            this.franchises.pushObject(App.Franchise.create({
                id: 0,
                title:'Final Fantasy',
                games: Ember.A(),
                defaultGame: function() {...},
                get: function(id) {...},
                init: function() {...}
            }));
            this.franchises.pushObject(App.Franchise.create({...}));
            ...
        });
    }
};

App.Franchise = Ember.Object.extend({});
App.Game = Ember.Object.extend({});

// assign the model to the App for reference
App.GameStore = Store;
App.GameStore.init();
</code></pre>

<h3 id="router">Router</h3>

<p>The router will define most of our application. When creating a router, you define the routes with names and paths. Once you have a name of a route, Ember will automatically look for routes and controllers with specific names. So, a route named <code>franchise</code> will have a <code>FranchiseRoute</code> and a <code>FranchiseController</code>. See the naming conventions for more information.</p>

<pre><code>App.Router.map(function() {
    this.resource('franchise', { path:'/franchise/:franchise_id'}, function() {
        this.resource('game', { path: '/game/:game_id' });
    });
});
</code></pre>

<p>Here, we&rsquo;ve defined two routes, a <code>franchise</code> route that Ember will load whenever <code>/franchise</code> is part of the path. An optional franchise ID can also be a part of the path. The second route is under the <code>franchise</code> route. Whenever Ember sees the <code>/franchise/{franchise_id}/game</code> URL, the <code>game</code> route will be loaded.</p>

<h3 id="routes">Routes</h3>

<p>Even though we have only defined two routes, there are four routes that we want to define.</p>

<ul>
<li><code>ApplicationRoute (/)</code> - What happens when the root of the site (<code>/</code>) is visited? The <code>ApplicationRoute</code> is used to add a list of franchises to the controller.</li>
<li><code>IndexRoute (/)</code> - If the <code>ApplicationRoute</code> is only adding a list of franchises, what is getting displayed? Simple, the root of the site will actually be directed to the <code>IndexRoute</code>, which, in this case, will redirect the user to the franchise route with the default franchise.</li>
<li><code>FranchiseRoute (/franchise/{franchise_id})</code> - Now that we&rsquo;ve reached the franchise route, we will need to load the model. In this case, we want to take the <code>franchise_id</code> that we defined in the <code>App.Router</code> from the URL and load the specified franchise.</li>
<li><code>GameRoute (/franchise/{franchise_id}/game/{game_id})</code> - like the <code>FranchiseRoute</code>, this route will pull the <code>game_id</code> from the URL and load the requested game model.</li>
</ul>

<p>Translating this to code, we get:</p>

<pre><code>App.ApplicationRoute = Ember.Route.extend({
    setupController: function(applicationController) {
        applicationController.set('franchises', App.GameStore.franchises);
    }
});

App.IndexRoute = Ember.Route.extend({
    redirect: function() {
        this.transitionTo('franchise', App.GameStore.defaultFranchise());
    }
});

App.FranchiseRoute = Ember.Route.extend({
    model: function(params) {
        return App.GameStore.get(parseInt(params.franchise_id));
    }
});

App.GameRoute = Ember.Route.extend({
    model: function(params) {
        return this.modelFor('franchise').get(parseInt(params.game_id));
    }
});
</code></pre>

<p>Note: a url with both a franchise and a game will pass through the <code>ApplicationRoute</code>, <code>FranchiseRoute</code>, and <code>GameRoute</code>. This is important to understand because each route&rsquo;s template will also be rendered.</p>

<h3 id="templates">Templates</h3>

<p>Back to the HTML, notice above that there is a spot for us to store our templates.</p>

<p>This application has three templates that correspond to the four routes we created earlier:</p>

<ul>
<li>Default template - this template has no ID attribute, so Ember assumes it is for the base application route (<code>/</code>). This URL will trigger both the <code>ApplicationRoute</code> and the <code>IndexRoute</code>. The template will then have access to the <code>franchises</code> property we added above.</li>
<li><code>franchise</code> - this corresponds to the <code>FranchiseRoute</code> above and will be rendered as the default template&rsquo;s <code>{{outlet}}</code>. It will have access to the <code>franchise</code> loaded as the template&rsquo;s model implicitly.</li>
<li><code>game</code> - similarly, this template is loaded as the franchise&rsquo;s <code>{{outlet}}</code> and will have the implicit <code>game</code> model.</li>
</ul>

<pre><code>&lt;script type=&quot;text/x-handlebars&quot;&gt;
    &lt;h1&gt;Franchises&lt;/h1&gt;
    &lt;ul&gt;
        {{#each franchise in franchises}}
            * {{#linkTo 'franchise' franchise}}{{franchise.title}}{{/linkTo}}
        {{/each}}
    &lt;/ul&gt;

    {{outlet}}
&lt;/script&gt;

&lt;script type=&quot;text/x-handlebars&quot; id=&quot;franchise&quot;&gt;
    ## {{title}}
    &lt;ul&gt;
        {{#each game in games}}
        * {{#linkTo 'game' game}}{{game.title}}{{/linkTo}}
        {{/each}}
    &lt;/ul&gt;
    {{outlet}}
&lt;/script&gt;

&lt;script type=&quot;text/x-handlebars&quot; id=&quot;game&quot;&gt;
    &lt;dl&gt;
        &lt;dt&gt;{{title}}&lt;/dt&gt;
        &lt;dd&gt;{{releaseDate}}&lt;/dd&gt;
    &lt;/dl&gt;
&lt;/script&gt;
</code></pre>

<p>Again, note that a URL with both a franchise and a game will need to render all three templates as each template will be loaded as an <code>{{outlet}}</code> in each of the parent templates.</p>

<p>Also of note, the templates are each loaded in the order of URL precedence. So, when Ember sees <code>/franchise/2/game/1</code> it will purposely load the default template with the franchise template in the <code>{{outlet}}</code> and the game template will be loaded in the franchise&rsquo;s <code>{{outlet}}</code>.</p>

<p>This, of course, is on purpose and is part of a RESTful architecture and design. It also helps tie everything back together. The URL, routes, and templates are (as well as controllers, not covered here) are all linked tightly. This is where Ember&rsquo;s magic takes place and is the first step towards understanding the framework.</p>

					</div>
				</div>
			</div>
		</article>
		
		<article class="mr-loop-item post type-post hentry clearfix">
			
			<div class="mr-loop-content clearfix">
				<header class="mr-loop-header">
					<h3 class="entry-title mr-loop-title">
						<a href="/post/2013/07/08/always-be-refactoring/" rel="bookmark">Always Be Refactoring</a>
					</h3>
					<div class="mr-meta mr-loop-meta">
						<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
						<time class="mr-meta-date updated" datetime="2013-07-08 16:26:23 &#43;0000 &#43;0000">July 08, 2013</time>
					</div>
				</header>
				<div class="mr-loop-excerpt">
					<div class="entry-content clearfix">
						<p>If there is one thing you can do to improve your coding skills, it would have to be refactoring existing code.</p>

<p>Start with some old code written by someone who didn&rsquo;t know better (possibly you) - code that doesn&rsquo;t follow existing conventions - and have at it. Preferably, full unit tests exist for you to verify that the code still works after each change. If you don&rsquo;t have the tests then creating them is your first step.</p>

<p>Once you have tests in place, you are free to change anything you want without breaking the interface. The benefits of this are many: if you are unfamiliar with the code base, this will get you up to speed quickly; you are able to try new coding styles without harming existing, outside code; and you now have an island of up to date code that can be built upon.</p>

<p>It isn&rsquo;t <a title="Coding Horror: Don't Reinvent the Wheel, Unless You Plan on Learning More About Wheels" href="http://www.codinghorror.com/blog/2009/02/dont-reinvent-the-wheel-unless-you-plan-on-learning-more-about-wheels.html">reinventing the wheel</a>, but it gets you just as far. You now have a well-defined set of testable requirements with an example implementation that may or may not help you. All your work can happen within the confines of your module or class without affecting others.</p>

					</div>
				</div>
			</div>
		</article>
		
		<article class="mr-loop-item post type-post hentry clearfix">
			
			<div class="mr-loop-content clearfix">
				<header class="mr-loop-header">
					<h3 class="entry-title mr-loop-title">
						<a href="/post/2013/06/26/the-migration-problem/" rel="bookmark">The Migration Problem</a>
					</h3>
					<div class="mr-meta mr-loop-meta">
						<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
						<time class="mr-meta-date updated" datetime="2013-06-26 11:45:01 &#43;0000 &#43;0000">June 26, 2013</time>
					</div>
				</header>
				<div class="mr-loop-excerpt">
					<div class="entry-content clearfix">
						<p>Being able to write code for programmers has an interesting problem. What do you do when you want to change the API or how a component works?</p>

<p>Typically, in an object oriented approach, you ensure that you are programming to valid interfaces only and that you have abstracted the problem away enough that any change you make is undetectable.</p>

<p>You can&rsquo;t rely on that happening, though. Sometimes the API changes so dramatically that programming to the old interfaces is like stuffing a round peg into a square hole.</p>

<p>Now you have a migration problem. Version 2 of your API is available and is incompatible with Version 1. What do you do ?</p>

<p>You have a couple options:</p>

<ul>
<li>You can take Salesforce&rsquo;s approach and keep all your APIs alive, but that means required maintenance on old code and upkeep for any servers you use.</li>
<li>You can deprecate and kill off the old API, but you&rsquo;ll find your current users are rather attached to version 1, if only because migrating to version 2 costs time and resources that could be used to make money.</li>
<li>You can create some migration helpers to ease developer&rsquo;s life while forcing a migration.</li>
</ul>

<p>It&rsquo;s the last option that truly speaks to someone writing code for programmers. The slow migration approach will use some rewritten version 1 code that amounts to glue binding the old API to the new API. Developers can then slowly migrate to version 2 while using version 1 in small steps.</p>

<p>This glue code is temporary and goes against most programming principles. It will also be rather ugly. However, as the owner of the API, if you can take on the ugly task required by the migration, all your API users can now avoid the ugly code they would have had to write to begin with.</p>

<p>Hopefully, migrating to the glue code is easier for the developers than completely migrating to version 2. Eventually, you need to kill the old API. This can be done once you know everyone is using the glue code.</p>

<p>Kill off version 1 and then slowly kill off the glue code, which can hopefully be done without your developers needing to do anything beyond flipping a switch.</p>

<p>There is no way out of the ugly code required by a slow migration. However, as an API owner, you can make everyone else&rsquo;s lives easier by making your life slightly more difficult.</p>

					</div>
				</div>
			</div>
		</article>
		
		<article class="mr-loop-item post type-post hentry clearfix">
			
			<div class="mr-loop-content clearfix">
				<header class="mr-loop-header">
					<h3 class="entry-title mr-loop-title">
						<a href="/post/2013/06/19/creating-a-reusable-url-with-spring-resttemplate/" rel="bookmark">Creating a Reusable URL with Spring RestTemplate</a>
					</h3>
					<div class="mr-meta mr-loop-meta">
						<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
						<time class="mr-meta-date updated" datetime="2013-06-20 04:15:27 &#43;0000 &#43;0000">June 20, 2013</time>
					</div>
				</header>
				<div class="mr-loop-excerpt">
					<div class="entry-content clearfix">
						<p>It&rsquo;s a fact. Spring has a way of simplifying development in a developer-centric way. Spring&rsquo;s <a href="http://blog.springsource.org/2009/03/27/rest-in-spring-3-resttemplate/" title="RestTemplate">RestTemplate</a> gets us an easy to use REST interface.</p>

<p>We can take it one step further by making the template creation a bit more flexible. What we need is a way to build a template from a known base URL and known parameters with configurable path and parameters.</p>

<p>For instance, a search template could look like: <code>http://api.example.com/search?query={query}&amp;sortOrder={sortOrder}&amp;maxResults={maxResults}&amp;api_key=myKey&amp;format=json</code></p>

<p>Here, we have a few different requirements needed to build a template:</p>

<ul>
<li>The constant <code>baseUrl</code> - <code>http://api.example.com</code></li>
<li>The configurable <code>path</code> - <code>/search</code></li>
<li>The configurable parameters - <code>query={query}&amp;sortOrder={sortOrder}&amp;maxResults={maxResults}</code></li>
<li>The constant parameters - <code>api_key=myKey&amp;format=json</code></li>
</ul>

<p>This is a fairly straight forward implementation which I have found to be very useful.</p>

<pre><code>class RestTemplateUtil {
    private String baseUrl
    private String key
    private String format

    String buildTemplateUrl(String path, Set queryParameters) {
        def builder = new StringBuilder()
        builder.append(this.baseUrl).append(path).append('?')
        queryParameters.each { queryKey -&gt;
            builder.append(queryKey).append('={').append(queryKey).append('}&amp;')
        }
        builder.append('api_key=').append(this.key).append('&amp;format=').append(this.format)
        return builder.toString()
    }

    void setBaseUrl(String baseUrl) {
        this.baseUrl = baseUrl	
    }

    void setKey(String key) {
        this.key = key
    }

    void setFormat(String format) {
        this.format= format
    }
}
</code></pre>

<p>Once configured, the developer builds the template from the API path and a Set of parameter names. This Set is easily constructed from a Map of parameters and their values used directly by the RestTemplate.</p>

<pre><code>def templateUtil = new RestTemplateUtil()
templateUtil.baseUrl = 'http://api.example.com'
templateUtil.key = 'myKey'
templateUtil.format = 'json'

def params = ['query':'search terms', 'sortOrder':'asc', 'maxResults':20]
def template = templateUtil.buildTemplateUrl('/search', params.keySet())

def rest = new RestTemplate()
def result = rest.getForObject(template, String, params)
println result
</code></pre>

<p>This could be expanded easily by changing the utility class follow the builder pattern or just incorporating the <code>getForObject</code> call directly. However, the above is simple, straight forward and helps reduce code by creating a reusable asset that can easily be leveraged by any code needing RestTemplates</p>

					</div>
				</div>
			</div>
		</article>
		
		<article class="mr-loop-item post type-post hentry clearfix">
			
			<div class="mr-loop-content clearfix">
				<header class="mr-loop-header">
					<h3 class="entry-title mr-loop-title">
						<a href="/post/2013/06/11/kh3-on-ps4/" rel="bookmark">KH3 on PS4</a>
					</h3>
					<div class="mr-meta mr-loop-meta">
						<svg class="icon icon-time" height="14" viewBox="0 0 16 16" width="14" xmlns="http://www.w3.org/2000/svg"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
						<time class="mr-meta-date updated" datetime="2013-06-11 12:03:36 &#43;0000 &#43;0000">June 11, 2013</time>
					</div>
				</header>
				<div class="mr-loop-excerpt">
					<div class="entry-content clearfix">
						<p>It was announced yesterday, <a href="http://m.joystiq.com/2013/06/10/kingdom-hearts-3-coming-to-the-playstation-4/">Kingdom Hearts 3 will be released on the PS4</a>, and I&rsquo;m a bit disappointed.</p>

<p>I&rsquo;ve been a fan of the Kingdom Hearts series for a long time now. I even get into the convoluted plots that can&rsquo;t withstand the slightest internal contradictions (why is it that keychains are the only way to change the keyblade in KH1, but the rest of the series makes it clear that there are hundreds of different keyblades?).</p>

<p>My first introduction to Kingdom Hearts was when my brother gave me the first game as a Christmas present. Neither of us knew much about it other than that it merged Disney characters with Final Fantasy characters. Since we didn&rsquo;t know much about Final Fantasy, this didn&rsquo;t explain much.</p>

<p>There was also the fact that I never saw any of the &ldquo;classic&rdquo; Disney movies. I still have never seen Cinderella, Peter Pan, Alice in Wonderland, Pinocchio, or many other films used by the Kingdom Hearts franchise.</p>

<p>I played through the first Kingdom Hearts without paying much attention. I liked the action / RPG gameplay which I had never played before, but I wouldn&rsquo;t have been able to summarize the plot for you.</p>

<p>I had recently purchased a Game Boy Advanced when Chain of Memories came out. Picking it up on a whim, I played through the game on a trip to Duluth. Because of the simple gameplay, the plot really stood out more, and I began to see some inklings of the story.</p>

<p>I played through the first game once more, attempting to understand what was happening and I was drawn in. I&rsquo;ve always enjoyed the light vs. dark metaphor and Kingdom Hearts did a good job of employing it throughout the plot. This play through, I made it to level 99 with the intent of finally beating Sepheroth (never did beat him).</p>

<p>Afterwards, I was very excited about the next entry in the series. Kingdom Hearts 2 finally came out and I immediately loaded it up after purchasing it, not knowing about the 6 hours of introduction before the title screen appears. After this, I was finally interested in Final Fantasy and have been playing the entire series since (except FFVIII, that game sucks).</p>

<p>Already owning a PSP, I played Birth By Sleep once it was out. Dream Drop Distance was my excuse to purchase a 3DS which also let me play <sup>358</sup>&frasl;<sub>2</sub> Days once I found a used copy (but that disappointing game has kept me from searching for RE: Coded).</p>

<p>With the exception of the handheld spinoffs, the main series games were both on the PS2. After playing through KH2, which came out late in the console&rsquo;s life, it seemed inevitable that KH3 would be on the PS3. However, instead of announcing the next numbered entry in the series, they kept creating new handheld games.</p>

<p>Rumor had it that the director of KH3 wouldn&rsquo;t work on the game until Final Fantasy Versus XIII was complete. Versus XIII was announced in 2006 and is now planned to be called Final Fantasy XV instead. 7 years later and it still hasn&rsquo;t been released.</p>

<p>Now, KH3 has been announced for PS4, skipping an entire generation of consoles. Kingdom Hearts was enough motivation to purchase a $170 handheld with a decent library behind it, but there&rsquo;s no way it can get me to purchase a $400 console with no other games. I guess I&rsquo;ll just put it on my &ldquo;to play&rdquo; list and pick it up used once the console drops in price.</p>

					</div>
				</div>
			</div>
		</article>
		

		
<div class="mr-loop-pagination clearfix">
	
	<span class="page-numbers current">1/3</span>
	
	<a class="page-numbers" href="/page/2/"></a>
	
</div>

	</div>

<aside class="mr-sidebar" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">
	
<div class="mr-widget widget_search">
	<form class="search-form" role="search" method="get" action="//google.com/search">
		<label>
			<span class="screen-reader-text">Search for:</span>
			<input type="search" class="search-field" placeholder="SEARCH..." value="" name="q">
		</label>
		<input class="search-submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="/" />
	</form>
</div>

	
<div class="mr-widget widget_recent_entries">
	<h4 class="mr-widget-title"><span class="mr-widget-title-inner">Recent Posts</span></h4>
	<ul>
		
		<li><a href="/post/2017/01/06/shaving-yaks-for-docker/">Shaving Yaks for Docker</a></li>
		
		<li><a href="/post/2013/09/25/adding-static-content-to-spring-boot-mvc/">Adding Static Content To Spring Boot MVC</a></li>
		
		<li><a href="/post/2013/09/20/creating-test-services-with-spring-boot/">Creating Test Services with Spring Boot</a></li>
		
		<li><a href="/post/2013/08/24/do-not-fear-the-computer/">Do Not Fear the Computer</a></li>
		
		<li><a href="/post/2013/08/21/vulnerabilies-of-good-intentions/">Vulnerabilies of Good Intentions</a></li>
		
		<li><a href="/post/2013/08/03/lets-set-up-ember-js/">Lets set up Ember.js</a></li>
		
		<li><a href="/post/2013/07/08/always-be-refactoring/">Always Be Refactoring</a></li>
		
		<li><a href="/post/2013/06/26/the-migration-problem/">The Migration Problem</a></li>
		
		<li><a href="/post/2013/06/19/creating-a-reusable-url-with-spring-resttemplate/">Creating a Reusable URL with Spring RestTemplate</a></li>
		
		<li><a href="/post/2013/06/11/kh3-on-ps4/">KH3 on PS4</a></li>
		
	</ul>
</div>


	




	




</aside>
	</div>
		<div class="mr-copyright-wrap">
			<div class="mr-container mr-container-inner clearfix">
				<p class="mr-copyright">&copy; 2017 BitwiseOR. Based on <a href="//wordpress.org/themes/mh-magazine-lite/" target="_blank" rel="nofollow noopener noreferrer">MH Magazine lite</a>.</p>
			</div>
		</div>
	</div>

<script>
	var navigation = responsiveNav(".menu", {
		navClass: "menu--collapse",
	});
</script>

</body>
</html>
